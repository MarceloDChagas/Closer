(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[849],{727:(e,a,s)=>{"use strict";s.d(a,{BT:()=>m,Wu:()=>x,ZB:()=>c,Zp:()=>n,aR:()=>d,wL:()=>u});var r=s(3576),l=s(5699),i=s(7876),t=s(4232),o=s(5870);let n=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s)},t))});n.displayName="Card";let d=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",s)},t))});d.displayName="CardHeader";let c=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",s)},t))});c.displayName="CardTitle";let m=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("text-sm text-muted-foreground",s)},t))});m.displayName="CardDescription";let x=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("p-6 pt-0",s)},t))});x.displayName="CardContent";let u=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("div",(0,r._)({ref:a,className:(0,o.cn)("flex items-center p-6 pt-0",s)},t))});u.displayName="CardFooter"},2671:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(1713).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2752:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/clientes/cadastro",function(){return s(2928)}])},2885:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(1713).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},2928:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>j});var r=s(7876),l=s(3576),i=s(2701),t=s(4232),o=s(7041),n=s(5115),d=s(8971),c=s(6085),m=s(7739),x=s(2885),u=s(2671);let f=(0,s(1713).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var h=s(727),p=s(9099),v=s(2309);let b=()=>{let e=(0,p.useRouter)(),[a,s]=(0,t.useState)(null),[b,j]=(0,t.useState)(!1),[N,g]=(0,t.useState)({nomeCliente:"",nomeBebe:"",email:"",celular:"",telefone:"",dataNascimento:"",endereco:"",instagram:"",indicacao:"",observacoes:""}),y=e=>{let{name:a,value:s}=e.target;g(e=>(0,i._)((0,l._)({},e),{[a]:s}))},C=async a=>{if(a.preventDefault(),!N.nomeCliente.trim()){alert("Nome do cliente \xe9 obrigat\xf3rio");return}if(!N.email.trim()){alert("Email \xe9 obrigat\xf3rio");return}if(!N.celular.trim()){alert("Celular \xe9 obrigat\xf3rio");return}j(!0);try{let a=N.nomeCliente.trim().split(" "),r=a[0],l=a.slice(1).join(" ")||r,i=N.endereco.split(",").map(e=>e.trim()),t=i[0]||"N\xe3o informado",o=i[1]||"N\xe3o informado",n=i[2]||"N\xe3o informado",d=i[3]||"00000-000",c={name:{firstName:r,lastName:l},email:N.email,phone:N.celular,address:{street:t,city:o,state:n,zipCode:d}},m=await v.G.createClient(c);alert("Cliente cadastrado com sucesso!"),console.log("Cliente criado:",m),g({nomeCliente:"",nomeBebe:"",email:"",celular:"",telefone:"",dataNascimento:"",endereco:"",instagram:"",indicacao:"",observacoes:""}),s(null),e.push("/clientes")}catch(e){console.error("Erro ao cadastrar cliente:",e),alert("Erro ao cadastrar cliente. Tente novamente.")}finally{j(!1)}};return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,r.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-background",children:(0,r.jsx)("div",{className:"container flex h-16 items-center",children:(0,r.jsx)(n.L,{})})}),(0,r.jsx)("main",{className:"flex-1",children:(0,r.jsxs)("div",{className:"container py-6",children:[(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsxs)(o.$,{variant:"ghost",size:"sm",className:"mr-2",onClick:()=>e.back(),children:[(0,r.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Voltar"]}),(0,r.jsx)("h1",{className:"text-3xl font-bold",children:"Cadastrar Novo Cliente"})]}),(0,r.jsxs)("form",{onSubmit:C,children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)(h.Zp,{children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{children:"Foto do Cliente *"}),(0,r.jsx)(h.BT,{children:"Adicione uma foto para identifica\xe7\xe3o do cliente."})]}),(0,r.jsxs)(h.Wu,{className:"flex flex-col items-center space-y-4",children:[(0,r.jsx)("div",{className:"w-32 h-32 border-2 border-dashed border-border rounded-full flex items-center justify-center bg-muted overflow-hidden",children:a?(0,r.jsx)("img",{src:a||"/placeholder.svg",alt:"Preview do cliente",className:"w-full h-full object-cover"}):(0,r.jsx)(u.A,{className:"w-12 h-12 text-muted-foreground"})}),(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)(c.J,{htmlFor:"foto",className:"cursor-pointer",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center w-full p-3 border border-border rounded-md hover:bg-muted transition-colors",children:[(0,r.jsx)(f,{className:"w-4 h-4 mr-2"}),a?"Alterar Foto":"Adicionar Foto"]}),(0,r.jsx)(d.p,{id:"foto",type:"file",accept:"image/*",className:"hidden",onChange:e=>{var a;let r=null===(a=e.target.files)||void 0===a?void 0:a[0];if(r){if(r.size>5242880){alert("Arquivo muito grande. Tamanho m\xe1ximo: 5MB");return}if(!r.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem");return}let e=new FileReader;e.onload=e=>{var a;s(null===(a=e.target)||void 0===a?void 0:a.result)},e.readAsDataURL(r)}}})]})}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Formatos aceitos: JPG, PNG, GIF",(0,r.jsx)("br",{}),"Tamanho m\xe1ximo: 5MB"]})]})]}),(0,r.jsxs)(h.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{children:"Informa\xe7\xf5es Pessoais"}),(0,r.jsx)(h.BT,{children:"Dados pessoais e de contato do cliente."})]}),(0,r.jsxs)(h.Wu,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"nomeCliente",children:"Nome do Cliente *"}),(0,r.jsx)(d.p,{id:"nomeCliente",name:"nomeCliente",placeholder:"Nome completo do cliente",value:N.nomeCliente,onChange:y,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"nomeBebe",children:"Nome do Beb\xea"}),(0,r.jsx)(d.p,{id:"nomeBebe",name:"nomeBebe",placeholder:"Nome do beb\xea (se aplic\xe1vel)",value:N.nomeBebe,onChange:y})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"email",children:"Email *"}),(0,r.jsx)(d.p,{id:"email",name:"email",type:"email",placeholder:"email@exemplo.com",value:N.email,onChange:y,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"celular",children:"Celular *"}),(0,r.jsx)(d.p,{id:"celular",name:"celular",placeholder:"(00) 00000-0000",value:N.celular,onChange:y,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"telefone",children:"Telefone Fixo"}),(0,r.jsx)(d.p,{id:"telefone",name:"telefone",placeholder:"(00) 0000-0000",value:N.telefone,onChange:y})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"dataNascimento",children:"Data de Nascimento"}),(0,r.jsx)(d.p,{id:"dataNascimento",name:"dataNascimento",type:"date",value:N.dataNascimento,onChange:y})]}),(0,r.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[(0,r.jsx)(c.J,{htmlFor:"endereco",children:"Endere\xe7o Completo"}),(0,r.jsx)(d.p,{id:"endereco",name:"endereco",placeholder:"Rua, n\xfamero, bairro, cidade, CEP",value:N.endereco,onChange:y})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"instagram",children:"Instagram"}),(0,r.jsx)(d.p,{id:"instagram",name:"instagram",placeholder:"@usuario",value:N.instagram,onChange:y})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(c.J,{htmlFor:"indicacao",children:"Como nos conheceu?"}),(0,r.jsx)(d.p,{id:"indicacao",name:"indicacao",placeholder:"Instagram, indica\xe7\xe3o, etc.",value:N.indicacao,onChange:y})]})]}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsx)(c.J,{htmlFor:"observacoes",children:"Observa\xe7\xf5es"}),(0,r.jsx)(m.T,{id:"observacoes",name:"observacoes",placeholder:"Informa\xe7\xf5es adicionais sobre o cliente, prefer\xeancias, alergias, etc.",rows:4,value:N.observacoes,onChange:y})]})]}),(0,r.jsxs)(h.wL,{className:"flex justify-end space-x-4",children:[(0,r.jsx)(o.$,{type:"button",variant:"outline",onClick:()=>{window.confirm("Deseja cancelar o cadastro? Todos os dados ser\xe3o perdidos.")&&e.back()},disabled:b,children:"Cancelar"}),(0,r.jsx)(o.$,{type:"submit",disabled:b,children:b?"Cadastrando...":"Cadastrar Cliente"})]})]})]}),(0,r.jsx)(h.Zp,{className:"mt-6 bg-blue-500/10 border-blue-500/20",children:(0,r.jsx)(h.Wu,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"i"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium text-blue-700 dark:text-blue-300 mb-1",children:"Pr\xf3ximos Passos"}),(0,r.jsx)("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:'Ap\xf3s cadastrar o cliente, voc\xea poder\xe1 adicionar servi\xe7os na aba "Adicionar Servi\xe7o". L\xe1 voc\xea poder\xe1 selecionar este cliente e registrar todos os servi\xe7os contratados.'})]})]})})})]})]})}),(0,r.jsx)("footer",{className:"border-t bg-muted/50",children:(0,r.jsxs)("div",{className:"container flex flex-col gap-4 py-10 md:flex-row md:items-center md:justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-2",children:(0,r.jsx)("div",{className:"font-bold text-xl text-foreground",children:"ESTUDIO CLOSER"})}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"\xa9 2025 Estudio Closer. Sistema de Gerenciamento."})]})})]})};function j(){return(0,r.jsx)(b,{})}},6085:(e,a,s)=>{"use strict";s.d(a,{J:()=>x});var r=s(3576),l=s(5699),i=s(7876),t=s(4232),o=s(6326),n=t.forwardRef((e,a)=>(0,i.jsx)(o.sG.label,{...e,ref:a,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));n.displayName="Label";var d=s(9518),c=s(5870);let m=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),x=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)(n,(0,r._)({ref:a,className:(0,c.cn)(m(),s)},t))});x.displayName=n.displayName},7739:(e,a,s)=>{"use strict";s.d(a,{T:()=>n});var r=s(3576),l=s(5699),i=s(7876),t=s(4232),o=s(5870);let n=t.forwardRef((e,a)=>{var{className:s}=e,t=(0,l._)(e,["className"]);return(0,i.jsx)("textarea",(0,r._)({className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},t))});n.displayName="Textarea"},8971:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var r=s(3576),l=s(5699),i=s(7876),t=s(4232),o=s(5870);let n=t.forwardRef((e,a)=>{var{className:s,type:t}=e,n=(0,l._)(e,["className","type"]);return(0,i.jsx)("input",(0,r._)({type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a},n))});n.displayName="Input"}},e=>{var a=a=>e(e.s=a);e.O(0,[548,112,636,593,792],()=>a(2752)),_N_E=e.O()}]);